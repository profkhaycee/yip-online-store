<?php
/* Smarty version 5.5.1, created on 2025-06-19 19:27:46
  from 'file:layout/footer.tpl' */

/* @var \Smarty\Template $_smarty_tpl */
if ($_smarty_tpl->getCompiled()->isFresh($_smarty_tpl, array (
  'version' => '5.5.1',
  'unifunc' => 'content_685464b218d143_19461616',
  'has_nocache_code' => false,
  'file_dependency' => 
  array (
    '9a4ed6d115ed7269abae289e0e774106b5e78c61' => 
    array (
      0 => 'layout/footer.tpl',
      1 => 1750361255,
      2 => 'file',
    ),
  ),
  'includes' => 
  array (
  ),
))) {
function content_685464b218d143_19461616 (\Smarty\Template $_smarty_tpl) {
$_smarty_current_dir = '/Applications/MAMP/htdocs/yip/app/views/layout';
?>
        <!-- footer-section Start -->
        <footer class="footer-section footer-bg fix">
            <div class="container">
                <div class="footer-widget-wrapper">
                    <div class="row">
                        <div class="col-xl-3 col-lg-4 col-md-4 wow fadeInUp" data-wow-delay=".2s">
                            <div class="single-footer-widget">
                                <div class="widget-head">
                                    <a href="index" class="footer-logo">
                                                                                <img src="assets/img/yip-logo.png" alt="logo-img">
                                    </a>
                                </div>
                                <div class="footer-content">
                                    <div class="text">
                                        <p>Got Questions? Call us</p>
                                        <a href="tel:+67041390762">+670 413 90 762</a>
                                    </div>
                                    <ul class="contact-list">
                                        <li>
                                            <i class="fa-regular fa-envelope"></i>
                                            <a href="mailto:cartly@gmail.com">cartly@gmail.com</a>
                                        </li>
                                        <li>
                                            <i class="fa-regular fa-location-dot"></i>
                                            79 Sleepy Hollow St.<br>
                                            Jamaica, New York 1432
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-3 col-lg-4 col-md-4 ps-lg-5 wow fadeInUp" data-wow-delay=".4s">
                            <div class="single-footer-widget">
                                <div class="widget-head">
                                    <h3>My Account</h3>
                                </div>
                                <ul class="list-items">
                                    <li>
                                        <a href="order">
                                            Track Orders
                                        </a>
                                    </li>
                                    <li>
                                        <a href="product-details">
                                            Shipping
                                        </a>
                                    </li>
                                    <li>
                                        <a href="shop-cart">
                                            Wishlist
                                        </a>
                                    </li>
                                    <li>
                                        <a href="my-account">
                                            My Account
                                        </a>
                                    </li>
                                    <li>
                                        <a href="order">
                                            Order History
                                        </a>
                                    </li>
                                    <li>
                                        <a href="contact">
                                            Returns
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-xl-3 col-lg-4 col-md-4 ps-lg-5 wow fadeInUp" data-wow-delay=".6s">
                            <div class="single-footer-widget">
                                <div class="widget-head">
                                    <h3>Infomation</h3>
                                </div>
                                <ul class="list-items">
                                    <li>
                                        <a href="contact">
                                            Our Story
                                        </a>
                                    </li>
                                    <li>
                                        <a href="contact">
                                            Careers
                                        </a>
                                    </li>
                                    <li>
                                        <a href="contact">
                                            Privacy Policy
                                        </a>
                                    </li>
                                    <li>
                                        <a href="contact">
                                            Terms & Conditions
                                        </a>
                                    </li>
                                    <li>
                                        <a href="news-details">
                                            Latest News
                                        </a>
                                    </li>
                                    <li>
                                        <a href="contact">
                                            Contact Us
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-xl-3 col-lg-4 col-md-6 wow fadeInUp" data-wow-delay=".8s">
                            <div class="single-footer-widget">
                                <div class="widget-head">
                                    <h3>Subcribe.</h3>
                                </div>
                                <div class="footer-content">
                                    <p class="f-text">Our conversation is just getting started</p>
                                    <div class="footer-input">
                                        <input type="email" id="email2" placeholder="Enter Your Email">
                                        <button class="newsletter-btn" type="submit">
                                            <span>Subscribe</span>
                                        </button>
                                    </div>
                                    <div class="social-item">
                                        <h6>Follow Us On</h6>
                                        <div class="social-icon d-flex align-items-center">
                                            <a href="#"><i class="fab fa-facebook-f"></i></a>
                                            <a href="#" class="bg-2"><i class="fab fa-twitter"></i></a>
                                            <a href="#"><i class="fab fa-linkedin-in"></i></a>
                                            <a href="#"><i class="fa-brands fa-vimeo-v"></i></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="footer-bottom">
                    <div class="footer-wrapper">
                      <p class="wow fadeInUp" data-wow-delay=".3s">
                            Â©All Rights reserved | by <span>Ecomas.</span>
                        </p>
                        <div class="bottom-list wow fadeInUp" data-wow-delay=".5s">
                            <div class="app-image">
                                <img src="assets/img/footer/01.png" alt="img">
                            </div>
                            <div class="app-image">
                                <img src="assets/img/footer/02.png" alt="img">
                            </div>
                            <div class="app-image">
                                <img src="assets/img/footer/03.png" alt="img">
                            </div>
                            <div class="app-image">
                                <img src="assets/img/footer/04.png" alt="img">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>

        <!--<< All JS Plugins >>-->
        <?php echo '<script'; ?>
 src="assets/js/jquery-3.7.1.min.js"><?php echo '</script'; ?>
>
        <!--<< Viewport Js >>-->
        <?php echo '<script'; ?>
 src="assets/js/viewport.jquery.js"><?php echo '</script'; ?>
>
        <!--<< Bootstrap Js >>-->
        <?php echo '<script'; ?>
 src="assets/js/bootstrap.bundle.min.js"><?php echo '</script'; ?>
>
        <?php echo '<script'; ?>
 src="assets/js/jquery.nice-select.min.js"><?php echo '</script'; ?>
>
        <!--<< Waypoints Js >>-->
        <?php echo '<script'; ?>
 src="assets/js/jquery.waypoints.js"><?php echo '</script'; ?>
>
        <!--<< Counterup Js >>-->
        <?php echo '<script'; ?>
 src="assets/js/jquery.counterup.min.js"><?php echo '</script'; ?>
>
        <!--<< Swiper Slider Js >>-->
        <?php echo '<script'; ?>
 src="assets/js/swiper-bundle.min.js"><?php echo '</script'; ?>
>
        <!--<< MeanMenu Js >>-->
        <?php echo '<script'; ?>
 src="assets/js/jquery.meanmenu.min.js"><?php echo '</script'; ?>
>
        <!--<< Magnific Popup Js >>-->
        <?php echo '<script'; ?>
 src="assets/js/jquery.magnific-popup.min.js"><?php echo '</script'; ?>
>
        <!--<< Wow Animation Js >>-->
        <?php echo '<script'; ?>
 src="assets/js/wow.min.js"><?php echo '</script'; ?>
>
        <!--<< Main.js >>-->
        <?php echo '<script'; ?>
 src="assets/js/main.js"><?php echo '</script'; ?>
>
        <?php echo '<script'; ?>
 src="https://cdn.jsdelivr.net/npm/sweetalert2@11"><?php echo '</script'; ?>
>
        


<?php echo '<script'; ?>
>
  // Add to cart
  $('.add-to-cart').on('click', function () {
        console.log('add to cart clicked');
        var user = <?php echo json_encode($_smarty_tpl->getValue('user')['id'] ?? null);?>
;

        if (user == null) {
        Swal.fire({
            icon: 'warning',
            text: 'Please log in to add items to your cart.'
        });
        return false;
        }


    
    // Get the product ID from the data attribute
    var productId = $(this).attr('data-product-id');

    var payload = {"product_id" : productId};

    // console.log(payload); return false;

    // addToCart(payload);

    $.ajax({
      url: 'cart-add',
      method: 'POST',
        //   data: { product_id: productId },
      data: payload,
      dataType: 'json',
      beforeSend: function () {
        Swal.fire({
          title: 'Adding to cart...',
          allowOutsideClick: false,
          didOpen: () => {
            Swal.showLoading();
          }
        });
      },
      success: function (response) {
        console.log(response);
        console.log( JSON.stringify(response));
        $('.cart-item-count').html(response.cartCount)
        Swal.close(); // Close the loading alert
        Swal.fire({
          icon: response.status,
          text: response.message
        });
      },
      error: function () {
        Swal.fire({
          icon: 'error',
          text: 'An error occurred while adding to cart.'
        });
      }
    });




  });

  // Update quantity
  $('.change-qty').on('change', function () {
    var itemId = $(this).attr('data-product-id');
    var qty = $(this).val();

    if (qty < 1) {
      Swal.fire({
        icon: 'warning',
        text: 'Quantity must be at least 1.'
      });
      return false;
    }

    
        
    $.ajax({
      url: 'cart-update',
      method: 'POST',
      data: { product_id: itemId, quantity: qty },
      dataType: 'json',
      beforeSend: function () {
        Swal.fire({
          title: 'Loading...',
          allowOutsideClick: false,
          didOpen: () => {
            Swal.showLoading();
          }
        });
      },
      success: function (response) {
        Swal.close(); // Close the loading alert
        $('.cart-item-count').html(response.cartCount)
        $('.item-subtotal[data-product-id='+itemId+']').html(response.subtotal)
        $('.total-item-price').html(response.cartTotalPrice)
        
        
        // Swal.fire({
        //   icon: response.status,
        //   text: response.message
        // }).then(() => {
        //   //location.reload(); // Optional: reload to reflect changes
        // });
      },
      error: function () {
        Swal.fire({
          icon: 'error',
          text: 'Failed to update quantity.'
        });
      }
    });

    


  });

  $('.quantityIncrement').on('click', function () {
    var inputField = $(this).siblings('.change-qty');
    var currentValue = parseInt(inputField.val());
    var maxValue = parseInt(inputField.attr('max'));

    if (currentValue < maxValue) {
      inputField.val(currentValue + 1).trigger('change');
    //   inputField.trigger('change');
    } else {
      Swal.fire({
        icon: 'warning',
        text: 'Maximum quantity reached.'
      });
    }
  });

  $('.quantityDecrement').on('click', function () {
    var inputField = $(this).siblings('.change-qty');
    var currentValue = parseInt(inputField.val());

    if (currentValue > 1) {
      inputField.val(currentValue - 1).trigger('change');
    //   inputField.trigger('change');
    } else {
      Swal.fire({
        icon: 'warning',
        text: 'Minimum quantity is 1.'
      });
    }
  });

  // Remove from cart
  $('.remove-from-cart-btn').on('click', function () {
    const itemId = $(this).data('id');

    $.ajax({
      url: '/yip/public/api/cart/remove',
      method: 'POST',
      data: { id: itemId },
      dataType: 'json',
      success: function (response) {
        Swal.fire({
          icon: response.status,
          text: response.message
        }).then(() => {
          location.reload(); // Optional: reload to reflect updated cart
        });
      },
      error: function () {
        Swal.fire({
          icon: 'error',
          text: 'Could not remove item.'
        });
      }
    });
  });
<?php echo '</script'; ?>
>





    </body>
</html><?php }
}
